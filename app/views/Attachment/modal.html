<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>附件</title>
    <link href="/public/cssAttachment/bootstrap.css" rel="stylesheet">
    <script src="/public/jsAttachment/jquery.min.js"></script>
    <script src="/public/jsAttachment/bootstrap.min.js"></script>
    <link href="/public/cssAttachment/jplayer.blue.monday.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="/public/jsAttachment/download.js"></script>
    <script type="text/javascript" src="/public/jsAttachment/jquery.jplayer.min.js"></script>
</head>
<body>

<h2>附件预览</h2>
<!-- 按钮触发模态框 -->
<!--<button id="video" name="0" class="btn btn-primary btn-lg" data-toggle="modal"-->
        <!--data-target="#myModal" onclick="play(name)" style="display: none">-->
    <!--视频预览-->
<!--</button>-->


<!--<button id="pdf" name="0" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal2">-->
    <!--PDF预览-->
<!--</button>-->

<!--<button class="btn btn-primary btn-lg" onclick="setAttachmentParam(attachmentParam)">显示按钮</button>-->
<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal3">查看附件</button>
<script>
    function play(id) {//return url
        //var url = "http://7xiti1.com1.z0.glb.clouddn.com/test-clip.mp4";
        if (id!="0") {
            getUrl(id);
        }
        else{
            alert("not exist!")
        }
        hideMyModal3();
    }
    function hideMyModal3(){
        $("#myModal3").hide();
    }
    function closePdf(){
        $("#myModal1").hide();
        $("#myModal3").show();
    }
    function dosome() {
          $.get("http://localhost:9000/attachment", function(json){
            alert("JSON Data: " + json.url);
          });
    }

</script>

<!-- 模态框（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">




    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel">
                    视频播放
                </h4>
            </div>
            <div class="modal-body">
              <!-------------------------      视频播放HTML                   ------------------------>
                <div id="jp_container_1" class="jp-video jp-video-360p" role="application" aria-label="media player">
                    <div class="jp-type-single">
                        <div id="jquery_jplayer_1" class="jp-jplayer"></div>
                        <div class="jp-gui">
                            <div class="jp-video-play">
                                <button class="jp-video-play-icon" role="button" tabindex="0">play</button>
                            </div>
                            <div class="jp-interface">
                                <div class="jp-progress">
                                    <div class="jp-seek-bar">
                                        <div class="jp-play-bar"></div>
                                    </div>
                                </div>
                                <div class="jp-current-time" role="timer" aria-label="time">&nbsp;</div>
                                <div class="jp-duration" role="timer" aria-label="duration">&nbsp;</div>
                                <div class="jp-controls-holder">
                                    <div class="jp-controls">
                                        <button class="jp-play" role="button" tabindex="0">play</button>
                                        <button class="jp-stop" role="button" tabindex="0">stop</button>
                                    </div>
                                    <div class="jp-volume-controls">
                                        <button class="jp-mute" role="button" tabindex="0">mute</button>
                                        <button class="jp-volume-max" role="button" tabindex="0">max volume</button>
                                        <div class="jp-volume-bar">
                                            <div class="jp-volume-bar-value"></div>
                                        </div>
                                    </div>
                                    <div class="jp-toggles">
                                        <button class="jp-repeat" role="button" tabindex="0">repeat</button>
                                        <button class="jp-full-screen" role="button" tabindex="0">full screen</button>
                                    </div>
                                </div>
                                <div class="jp-details">
                                    <div class="jp-title" aria-label="title">&nbsp;</div>
                                </div>
                            </div>
                        </div>
                        <div class="jp-no-solution">
                            <span>Update Required</span>
                            To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
                        </div>
                    </div>
                </div>


                <!------------------------               end                     ----------------------------->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default"
                        data-dismiss="modal" onclick="closeVideo()">关闭
                </button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->

</div>
    <!-- 模态框（Modal） -->
    <div class="modal fade" id="myModal2" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"
                            aria-hidden="true">×
                    </button>
                    <h4 class="modal-title" id="myModalLab2">
                       PDF预览
                    </h4>
                </div>
                <div class="modal-body">
                    <embed width="780" height="600" src="pdf.pdf"></embed>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default"
                            data-dismiss="modal" onclick="closePdf()">关闭
                    </button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

<!-- 模态框（Modal） -->
<div class="modal fade" id="myModal3" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"
                        aria-hidden="true">×
                </button>
                <h4 class="modal-title" id="myModalLab3">
                    附件预览
                </h4>
            </div>
            <div class="modal-body">
                <button id="video" name="0" class="btn btn-primary btn-lg" data-toggle="modal"
                        data-target="#myModal" onclick="play(name)" style="display: none">
                    视频预览
                </button>


                <button id="pdf" name="0" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal2" onclick="hideMyModal3()">
                    PDF预览
                </button>

                <button class="btn btn-primary btn-lg" onclick="setAttachmentParam(attachmentParam)">显示</button>
            </div>
            <div class="modal-footer">

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
</body>
</html>